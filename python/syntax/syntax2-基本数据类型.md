## 四、数据类型

基本数据类型有 `整型int` `浮点数float` `布尔数bool -> True/False` `字符串str` `复数complex` `空NoneType -> None` `列表list` `集合set` `元组tuple` `字典dict`。整数和浮点数可以适当添加下划线让数字更易读。可以通过使用逗号分割同时为多个变量赋值。

数据容器：一种可以容纳多份数据的数据类型，容纳的每一份数据称之为1个元素，每一个元素，可以是任意类型的数据，如字符串、数字、布尔等。五种数据容器分别是 `列表list` `集合set` `元组tuple` `字典dict` `字符串str`

### 4.1 空类型 `<class 'NoneType'>`

None是python中一个特殊的字面量，表示空，无意义。无返回值的函数返回的实际上是None，在if判断语句中None相当于False，定义变量但是暂时不想赋值时使用None当占位符，条件判断中判断是否是None，使用is关键字，而不用相等运算符 `==`

### 4.2 数据容器通用操作

1. 遍历 全都可以使用for循环，集合和字典不能使用while循环
2. 共有的函数
   - `len()` 函数
   - `max()` 函数
   - `min()` 函数
   - `sorted(容器, [reverse=True])` 函数 排序，`reverse=True` 表示降序，返回一个排好序的列表

### 4.3 字符串`<class 'str'>`

使用单引号、双引号、三重引号包裹，可以使用 `+` 进行字符串的拼接，使用 `* n` 进行字符串的重复，`n` 表示重复次数

三重引号用于包裹多行字符串。一个引号的写法也可以跨行，只需要在每行的末尾加入表示连接的字符 `\` 即可

字符串是不可变对象immutable，不能单独修改字符串某个字符，只能修改整体，字符串str更像是元组tuple而不是列表list

转义字符 

- `\n` 换行符
- `\t` 制表符

可以切片，也可以使用while循环或for循环遍历

#### 4.3.1 字符串格式化

- f字符串
- 占位符字符串

在不需要控制数字的精度时，采用 *f字符串* 明显比 *占位符字符串* 简单。以下重点介绍占位符字符串

占位符

- `%s` 将内容转换成字符串，放入占位位置
- `%d` 将内容转换成整数，放入占位位置
- `%f` 将内容转换成浮点型，放入占位位置

用于控制精度的符号

- `m` 控制宽度，要求是数字（很少使用），设置的宽度小于数字自身，不生效。可以在 `m` 前添加 `0` 来使用 `0` 来补位
- `.n` 控制小数点精度，要求是数字，会进行小数的四舍五入
- `-` 配合 `m` 使用，控制宽度不够时在右边补空格，默认在左边补空格

#### f-string 格式控制

基本语法 `f"{变量名:格式控制标记}"`

格式控制标记 `<填充字符><对齐方式><宽度><,><.精度><类型>`

- 填充字符 默认是空格，只能是单个字符，需要配合 `宽度` 使用
- 对齐方式 需要配合`宽度`使用：
    - `^` 居中
    - `>` 右对齐
    - `<` 左对齐
- 宽度 整数，表示这个字符串的长度
- `,` 千位分隔符

#### 4.3.2 字符串操作

常用函数和方法

- `replace(str1,str2)` 方法 将字符串内的全部：str1，替换为str2。不改变原字符串
- `split(分隔str)` 方法 以分隔str为分隔符，将原字符串拆分，返回一个列表。不改变原字符串
- `strip()` 方法 删除字符串前后的空白字符,传入参数时，删除参数字符串中的字母，比如传入'ab'，删除的是字符串前后的字母a和字母b
    - `rstrip()` 方法
    - `lstrip()` 方法
- `upper()`方法 将字符串所以字母转换为大写
- `lower()`方法 将字符串所有字母转换为小写
- `title()`方法 单词首字母大写
- `removeprefix()`方法 删除前缀，需要传入需要删除的前缀

字符串特点

- 只可以存储字符串
- 长度任意（取决于内存大小）
- 支持下标索引
- 允许重复字符串存在
- 不可以修改（增加或删除元素等）
- 支持for循环

### 4.4 列表 `<class 'list'>`

使用方括号 `[]` 包裹，元素之间使用逗号分隔，列表中的数据可以是不同的数据类型，有顺序，使用下标获取元素。正向下标从 `0` 开始，反向下标从 `-1` 开始，列表命名时建议使用名词复数形式

可以使用for循环或while循环遍历

列表和字符串一样，也可以进行加法运算和乘法运算，列表是可变对象mutable

#### 操作列表

- `index(元素)` 方法 返回查询元素的下标（正向下标）
- `列表名[下标] = 新值` 更改元素的值
- `insert(下标，值)` 方法 在指定位置插入元素
- `append(值)` 方法 在列表末尾追加元素
- `extend(数据容器)` 方法 将其它数据容器的内容取出，依次追加到列表尾部
- `pop(下标)` 方法 删除元素，不传入参数时删除末尾的元素，返回删除的元素
- `remove(元素)` 方法 删除某元素在列表中的第一个匹配项，根据值删除元素，可以与while循环配合使用删除所有匹配项
- `clear()` 方法 将列表转换为空列表 `[]`
- `count(元素)` 方法 统计某元素在列表中出现次数
- `sort()`方法 正序排列，传入`reverse=True`时倒序排列（按照数字或字母顺序）
- `reverse()`方法 倒置，将原顺序倒置

`del 列表名[下标]` 删除元素

- `len()` 函数 返回列表长度
- `sorted()`函数 正序排列，传入参数reverse=True时倒序排列
- `max(lst)`函数 取列表中的最大值
- `min(lst)`函数 取列表中的最小值
- `sum(lst)`函数 计算列表元素之和
- `zip(lst1, lst2)`函数 同时遍历多个列表
- `enumerate(lst, start)` 函数 同时遍历列表下标和元素，可选参数 `start` 表示列表下标开始值，默认0
- 列表推导式

#### 列表特点

- 可以容纳多个元素
- 可以容纳不同类型的元素（混装）
- 数据是有序存储的（有下标序号）
- 允许重复数据存在
- 可以修改（增加或删除元素等）

#### 切片

序列是指：内容连续、有序，可使用下标索引的一类数据容器，列表、元组、字符串，均可以可以视为序列。序列的典型特征就是：有序并可用下标索引，字符串、元组、列表均满足这个要求

切片实际上是浅拷贝

通过类似于切片的写法，列表可以一次性修改多个元素的值

语法：`序列[起始下标: 结束下标: 步长]` 左闭右开区间

- 起始可以省略，省略从头开始
- 结束可以省略，省略到尾结束
- 步长可以省略，省略步长为1（可以为负数，表示倒序执行）
- 使用切片创建列表副本	`序列[:]`

### 4.5 元组 `<class 'tuple'>`

使用小括号包裹，元素之间使用逗号分隔，单元素元组需要在元素后添加逗号。元组相当于不可修改的列表，元组中的数据可以是不同的数据类型

可以切片，可以使用while循环或for循环遍历

常用函数和方法

- len()函数
- index(元素)方法
- count(元素)方法

元组特点

- 不可以修改元组的内容，否则会直接报错
- 可以修改元组内嵌套的list的内容（修改元素、增加、删除、反转等）但是不可以替换list为其它list或其它类型
- 可以容纳多个数据
- 可以容纳不同类型的数据（混装）
- 数据是有序存储的（下标索引）
- 允许重复数据存在
- 支持for循环

### 4.6 集合 `<class 'set'>`

使用花括号 `{}` 包裹，元素使用逗号分隔。元素无序，互不相同，没有下标索引。

只能使用for循环，不能使用while循环遍历。

常用函数和方法

- `add(元素)` 方法 添加元素，会导致集合本身遭到修改
- `remove(元素)` 方法 移除元素，会导致集合本身遭到修改
- `pop()` 方法 从集合中随机取出一个元素，会导致集合本身遭到修改
- `clear()` 方法 清空集合，返回空集 `set()`,会导致集合本身遭到修改变为 `set()`
- `集合1.difference(集合2)` 方法 取出集合1和集合2的差集（集合1有而集合2没有的），得到一个新集合，不改变原来的两个集合
- `集合1.difference_update(集合2)` 方法 消除2个集合的差集，对比集合1和集合2，在集合1内，删除和集合2相同的元素。会导致集合1被修改，集合2不变
- `集合1.union(集合2)` 方法 得到两个集合的并集，不改变原来两个集合
- `len()` 函数

集合特点

- 可以容纳多个数据
- 可以容纳不同类型的数据（混装）
- 数据是无序存储的（不支持下标索引）
- 不允许重复数据存在
- 可以修改（增加或删除元素等）
- 支持for循环

### 4.7 字典dict

通过键获取值，使用花括号包裹，键值对使用逗号分隔，键和值使用冒号连接。

常用操作

- 新增元素 `字典名[Key] = Value`
- 更新元素 `字典名[Key] = Value` 对已存在的键使用
- 删除元素 `pop(Key)` 方法 字典被修改，指定Key的键值对被删除，返回键对应的值value
- 清空字典 `clear()` 方法 字典被修改为空字典{}，元素被清空
- 字典长度 `len()`函数
- 删除字典中的键值对：使用 del 语句将指定字典名中要删除的键相应的键值对彻底删除。例如 使用 `del mydict['name']` 删除mydict字典中的name对应的键值对
- `get()` 方法 
    - 用来访问字典某个键对应的值，如果键不存在，返回默认值或`None`
    - `my_dict.get(key, [default])`：根据键获取值，默认值 `default` 实参是可选的
- `{==items()==}`方法 用于同时遍历字典的键和值
    
    ??? example

        代码
        ```py
        languages = {'python': 'py', 'javascript': 'js', 'c++': 'cpp'}
        for lang, extension in languages.items():
            print(f'{lang}语言的文件后缀名是{extension}')
        ```
        输出结果
        ```
        python语言的文件后缀名是py
        javascript语言的文件后缀名是js
        c++语言的文件后缀名是cpp
        ```

- `keys()`方法	返回键的列表，一般用于遍历所有键，直接使用字典名遍历，默认是遍历字典的键的列表
- `values()`方法，返回值的列表，一般用于遍历所有的值
- *字典推导式* 能明显简化代码

    ???+ example

        ```py
        langs = ['python', 'javascripts', 'c++']
        extensions = ['py', 'js', 'cpp']
        languages = {lang: extension for lang, extension in zip(langs, extensions)}
        print(languages) # 输出结果 {'python': 'py', 'javascripts': 'js', 'c++': 'cpp'}
        ```


??? note "字典特点"

	- 可以容纳多个数据
	- 可以容纳不同类型的数据
	- 每一份数据是KeyValue键值对
	- 可以通过Key获取到Value，Key不可重复（重复会覆盖）
	- 不支持下标索引
	- 可以修改（增加或删除更新元素等）
	- 支持for循环，不支持while循环