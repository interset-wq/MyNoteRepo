# Linux系统基础知识
## 操作系统的概念、功能、组成和基本原理
操作系统管理着整个计算机系统的软硬件资源，并提供用户与计算机系统交互的操作界面。

### 操作系统为用户提供的服务
- 程序开发
- 程序运行
- I/O设备访问
- 文件访问
- 系统资源的访问
- 错误检测和响应
- 日志服务

### 从资源角度看操作系统五大功能
- 处理器管理
- 存储器管理
- I/O设备管理
- 文件管理
- 作业管理

### 操作系统基本特征
- **并发**：操作系统最重要的特征，指同一时间间隔发生的多个事件。
- **共享**：与并发是操作系统最基本的两个特征，资源共享分为互斥共享方式和同时访问方式。
- **虚拟**：把一个物理上的实体变为一个或多个逻辑上的对应物。
- **异步**：又称随机性或不确定性，指在相同的计算机环境和初始条件下，在同一数据集上运行的同一程序每次执行的顺序和所需时间都不一定相同。

> 注：并行指在同一时刻发生；在同一时间内只允许一个进程访问的资源称为临界资源。

## 计算机相关基础
### 冯诺依曼结构
- 组成：运算器、控制器、存储器、输入设备、输出设备。
- 特点：
  1. 计算机的数值采用二进制。
  2. 程序指令和数据统一存储。
  3. 计算机应该按照程序顺序执行。

### 指令集相关
- 概念：一个计算机系统支持的所有机器指令的集合，常被看作软硬件的分界面。
- 按操作数数量分类：零地址指令、一地址指令、二地址指令、多地址指令。
- 按寻址空间分类：立即数寻址、寄存器寻址、主存寻址、堆栈寻址。
- 按指令系统复杂程度分类：RISA（精简指令集架构）和CISA（复杂指令集架构）。

### 程序访问局部性
- 时间局部性：最近访问过的内容很可能会在短期内被再次访问。
- 空间局部性：某个存储单元被访问，短时间内其附近的存储单元也会被访问。

### Cache相关
- Cache与主存储器间地址映射方式：直接映射、全相连映射、组相连映射。
- 主存与Cache之间的替换算法：随机法、先进先出、最近最少使用。
- 保证Cache与主存数据一致性的写方式：写直达、写回。
- MESI（缓存一致性协议）：将cacheline状态分为修改、独立、共享和失效。

### 处理器相关
- 传统单核CPU（按冯诺依曼体系结构）：由运算器和控制器组成。
- 多核处理器（按内核对等与否）：同构多核和异构多核。
- 处理器运行状态：内核态和用户态。

### 进程相关
- 进程控制块：进程存在的唯一标志。
- 进程和程序的区别：

| 进程（动态概念） | 程序（静态概念） |
| ---- | ---- |
| 具有并发特征 | 没有并发特征 |
| 有生命周期，只在计算机运行期间存在 | 可在外存上长期保存 |

> 注：进程与程序不是一一对应的，同一个程序运行在不同的数据集上成为不同进程；进程实体包括程序、数据和进程控制块。

### 计算机系统的层次结构（从下到上）
0. 数字逻辑层
1. 微体系结构层
2. 传统机器层
3. 操作系统层
4. 汇编语言层
5. 高级语言层
6. 应用程序层

# Linux系统的特点、发展与应用
## 内核概念
内核指一个提供设备驱动、文件系统、进程管理、网络通信等功能的系统软件。

## Linux系统特点
- 开放性
- 良好的可移植性
- 安全稳定
- 广泛的硬件支持
- 支持几乎所有的网络协议及开发语言
- 丰富的应用程序和开发工具
- 自由软件

# Linux系统使用基础
## 常见Linux系统的安装与启动
### 常见桌面环境
- KDE
- GNOME
- MATE
- Cinnamon

### 用户相关命令
- `w`：查看服务器上目前已经登录的用户信息，可知晓每个用户正在执行的命令。
- `who`：查看服务器上目前已经登录的用户信息，无法知晓每个用户正在执行的命令。
- `passwd`：修改密码。

### 软件包相关
- 分类：源码包和二进制包。
- 主流二进制包管理系统：RPM和DPKG。
- RPM命令：
  - `rpm -ivh 包全名`：安装软件包，`i`-安装，`v`-显示更详细的信息，`h`-打印安装进度。
  - `rpm -q 包名`：查看包是否安装。
  - `rpm -e 包名`：卸载软件包。

### 其他基础命令
- `echo`：
  - `-n`：不换行。
  - `-e`：支持反斜线控制的字符转换。
- Linux命令基本格式：`命令[选项][参数]`。
- 用户提示符与家目录：
  - 超级用户：提示符是`#`，家目录是`/root`。
  - 普通用户：提示符是`$`，家目录是`/home/用户名`。

# 常见的Linux命令和shell脚本编程技术基础
## 文件权限相关
- `chmod u+x 文件名`：修改文件权限，给文件所有者添加可执行权限。

## 脚本执行方式
1. `bash 文件名`
2. `bash < 文件名`（如`bash < sh01`）
3. `chmod u+x 文件名`后，直接执行`./文件名`

## Shell引用字符
- `\`（单斜杠）：用来转义特殊字符。
- `''`（单引号）：单引号里的所有字符均是普通字符。
- `""`（双引号）：双引号里的`$`、倒引号、`\`可以表示特殊含义。

## 输入输出重定向
- 数据流动方向：`>`箭头指向的方向，就是数据流动的方向。
- 具体用法：
  - `wc -l < file`：从文件`file`读取输入。
  - `<<`：使用特定的分节符作为命令输入的结束标志。
  - `>`（输出重定向符）：将输出写入指定文件中，覆盖文件原有内容。
  - `>>`（输出追加重定向符）：将输出附加到指定文件后面，不覆盖原有内容。

## 文件描述符
- 0：表示标准输入。
- 1：表示标准输出。
- 2：表示错误输出。

## 逻辑操作符
- `&&`（逻辑与）：只有第一条命令执行成功，第二条命令才会执行。
- `||`（逻辑或）：只有前一条命令执行错误，后面那一条命令才能执行。

## 括号用法
- 小括号`()`：在执行组命令时，需要重新开启一个子shell来执行。
- 大括号`{}`：在当前shell中执行。

## 其他常用符号
- `|`（管道符）：前一个命令的输出是后一个命令的输入。
- `&`（后台命令符）：将命令放到后台执行。
- `#`：单行注释。

## 数组相关
- 读取数组格式：`${数组名[下标]}`（如`echo ${city[0]}`）。
- `${city[*]}`和`${city[@]}`区别：前者将数组合并为一个词，后者是多个词。

## 变量相关
- `export 变量名`：将用户自定义变量成为全局变量。
- `set`：设置变量。
- `unset 变量名`：注销变量。
- 查询变量方式：
  - `set`：查询局部和全局变量。
  - `env`：查询所有环境变量。
  - `export`：查询环境变量。
- `declare`：声明变量类型，`-`设置类型属性，`+`取消属性：
  - `-a`：声明数组型。
  - `-i`：声明整型。
  - `-r`：声明只读变量。
  - `-x`：声明环境变量。
- 变量计算：`let 变量名=（算术表达式）`（如`let a=（1+2）`）、`expr 算术表达式`（如`expr 1 + 2`）。

## Case语句
- 格式：每个程序的分支要用`;;`（双分号）结束。

## 脚本首行
- `#！/bin/bash`：说明该脚本是用`bash`shell编写的。

## 环境变量PATH
- 作用：决定了shell将到哪些目录中寻找命令或可执行程序。

## shell命令分类
- 无交互shell命令：不需要用户输入。
- 交互shell命令：需要用户输入。

# Linux系统管理技术
## 用户管理
### 用户和用户组对应关系
- 一对一
- 一对多
- 多对一
- 多对多

### 相关配置文件
- `/etc/passwd`：存储用户名与ID的对应关系，其中用`x`表示此用户设有密码，真正密码在`/etc/shadow`中。
- `/etc/group`：存储用户组名称与ID的对应关系。
- `/etc/shadow`：存储用户密码（Linux密码采用SHA512散列加密算法）。
- `/etc/gshadow`：存储组密码等组信息。
- `/etc/login.defs`：用于创建用户时，对用户的一些基本属性设置默认值。

### 用户管理命令
- `useradd 用户名`：添加用户。
- `passwd 用户名`：配置用户密码。
- `passwd -S 用户名`：查看用户密码信息。
- `chage 用户名`：查看详细密码信息，还能使用户在第一次登录后必须修改密码，账户才能正常使用；与`passwd`都能修改密码。
- `usermod`：修改用户信息，还能将用户加入组。
- `userdel 用户名`：删除用户的相关数据。
- `su`：用户间的命令切换：
  - `su - 用户名`：同时切换工作环境。
  - `su -p 用户名`：不切换工作环境。

### 用户组管理命令
- `groupadd 组名`：添加用户组。
- `groupadd -n 老组名 新组名`：修改组名。
- `groupdel 组名`：删除组。
- `gpasswd`：给组设置一个组管理员，或者将用户加入组，会使用户从原来的组移出。
- `newgrp 组名`：切换用户的初始组。

> 注：每个用户都可以加入多个附加组，但是只能属于一个初始组。

## 文件管理
### 文件相关概念
- Linux文件系统中的文件：是数据的集合，所有文件都由数据项和文件控制块（又称索引结点）组成。
- Linux文件类型：
  1. 普通文件
  2. 目录文件
  3. 链接文件
  4. 设备文件
- 文件时间参数（每个文件拥有三个）：访问时间、数据修改时间、状态修改时间。

### 文本查看命令
- `cat`：显示文本文件的内容：
  - `-n`：对输出的所有行进行编号。
  - `-s`：遇到多个空白行，替换为1行的空白行。
- `more`：分页显示文本文件的内容：
  - `-c`：先清屏再显示内容。
  - `-n 数字`：一次显示指定行数。
  - `+n`：从第n行开始显示。
- `head`：显示文件的前若干行：
  - `-n k`：显示前k行。
  - `-c k`：显示前k个字节。
- `tail`：查看文件末尾的数据。

### 文件操作命令
- `touch`：创建文件、修改文件的时间参数：
  - `-a`：只修改访问时间。
  - `-c`：仅修改存在的文件的时间参数。
  - `-m`：只修改数据修改时间。
- `cp`：复制文件和目录：
  - `-r`：用于复制目录。
  - `-i`：询问是否覆盖。
  - `-s`：创建软链接。
  - `-l`：创建硬链接。
  - `-d`：复制软链接文件。
  - `-p`：保存源文件的属性。
  - `-a`：包含`-d`、`-p`、`-r`等选项的集合。
- `rm`：删除命令：
  - `-f`：强制删除。
  - `-i`：删除前询问。
  - `-r`：递归删除（用于删除目录）。
- `mv`：移动文件，也可对文件进行重命名：
  - `-f`：强制覆盖。
  - 移动目录不用加`-r`。
- `sort`：排序命令：
  - `-n`：以数值型进行排序。
  - `-r`：反向排序。
  - `-f`：忽略大小写。
  - `-t`：指定分割符。
  - `-k [n,m]`：指定排序范围。
- `wc`：统计命令：
  - `-l`：只统计行数。
  - `-w`：只统计单词数。
  - `-m`：只统计字符数。
- `mkdir`：创建新目录：
  - `-p`：递归创建所有目录。
  - `-m`：手动配置目录权限，不使用默认权限。
- `rmdir`：删除空目录，只能删除空目录，更常用的是`rm -r`。
- `pwd`：显示当前目录。
- `ls`：显示当前目录下的内容：
  - `-a`：显示所有文件包括隐藏文件（以`.`开头的文件）。
  - `-i`：显示inode信息。
  - `-l`：使用长格式列出文件和目录信息。
- `ln`：生成链接文件：
  - `-s`：创建软链接文件。

### 链接文件相关
- 软链接：与快捷方式类似，会创建自己的inode和block，只不过block中不存储实际文件数据，可链接目录，可跨分区。
- 硬链接：既不能跨文件系统，也不能链接目录。

### 文件权限相关
- 权限位标识：
  - `d`：表示目录。
  - `l`：表示软链接。
  - `r`：读权限。
  - `w`：写权限。
  - `x`：可执行权限（对文件而言）。
- 权限位格式：`[rw- r-- r--]`，分别为所有者权限、所属组权限、其他人权限。
- 修改权限命令：
  - `chmod 权限值 文件名`（如`chmod 755 file.txt`）。
  - `chmod a+w 文件名`（给所有用户添加写权限）。
- `umask`：默认权限，文件初始权限=文件的最大默认权限-umask权限。
- `chown`：修改文件或者目录的所有者，格式`chown 所有者 文件或目录`。
- `chgrp`：修改文件的所在组（change group），格式`chgrp 所属组 文件名`。

### 其他文件相关概念
- 文件分类（按结构）：有结构文件和无结构文件。

## 进程管理
### 进程概念
- 定义：一个正在执行的程序或命令。
- 进程管理作用：
  1. 判断服务器的健康状态。
  2. 查看系统中的所有进程。
  3. “杀死”进程。

### 进程查看命令
- `ps`：进程监控命令：
  - `ps -aux`：查看系统中所有进程。
  - `ps -l`：查看当前登录终端产生的进程。
- `pstree`：以树形结构显示程序与进程的关系。
- `top`：动态地持续监听程序的运行状态。
- `lsof`（list opened files）：查看进程调用的文件：
  - `-p PID`：列出指定PID所指的进程打开的文件。
  - `-c 字符串`：列出以某个字符串开头的进程打开的文件。
  - `-u 用户名`：列出某个用户的进程打开的文件。

### 特殊进程
- 僵尸进程：由于进程非正常停止或者程序编写错误，子进程先于父进程结束，但没有被正确回收，一直存在于内存中。

### 进程结束命令
- `kill`：
  - `kill -l`：列出所有信号。
  - `kill -1 PID`：重启进程。
  - `kill -9 PID`：强制终止进程。
  - `kill -15 PID`：正常停止进程。
- `killall`：依靠进程名杀死进程。
- `pkill`：与`killall`类似，可按照终端号踢出登录用户（`pkill -9 -t 终端号`）。

### 进程优先级
- 相关概念：PRI（优先级）和NI（ nice值），数字越小代表进程越优先，最终PRI=PRI+NI；用户不能修改PRI，由内核动态调整。
- NI调整范围：-20-19；普通用户只能调整0-19，且只能调高。
- 相关命令：
  - `nice`：给要启动的进程赋予NI值（如`nice -n 5 ./test`）。
  - `renice`：在进程运行时修改其NI值（如`renice 5 -p PID`）。

### 缓存和缓冲区别
- 缓存：为了加快数据从硬盘中的读取速度。
- 缓冲：为了加快向硬盘写入的速度。

## 存储管理
### 硬盘分类
- 机械硬盘（HDD）：采用磁性碟片存储数据，组成包括磁盘盘片、磁头、主轴、传动轴；主要逻辑结构有磁道、扇区、柱面；扇区是磁盘的最小存储单元；所有盘片从外向内进行磁道编号（从0开始）；具有相同编号的磁盘形成一个圆柱体。
- 固态硬盘（SSD）：采用存储芯片存储数据，存储芯片分为采用闪存和采用DRAM两类。

### 硬盘大小计算公式
硬盘大小=磁头数（盘面数2倍）×柱面数×扇区数×每个扇区的大小

### 常见机械硬盘接口
- IDE（ATA）
- SATA（串口）
- SCSI

### MBR相关
- 概念：Linux系统初始化时，会根据MBR（Master Boot Record，主引导记录）来识别硬盘设备。
- 结构：前446字节是引导加载程序，接着64字节是分区表，MBR留给分区表的磁盘空间只有64个字节，每个分区表的大小为16个字节，所以最多可划分4个分区。

### 硬盘分区好处
1. 方便管理和控制。
2. 提高系统的效率。
3. 使用磁盘配额的功能限制用户使用的磁盘量。
4. 便于备份和恢复。

### 分区命令
- `fdisk -l`：查询本地可以识别的硬盘和分区。
- `fdisk 设备文件名`：进入交互状态：
  - `p`：显示分区列表。
  - `n`：新建分区。
  - `w`：保存退出。
- `parted`：用于高于2TB的硬盘分区：
  - `parted 设备文件名`：进入交互状态。
  - `print`：显示信息。
  - `mkfs`：格式化。
  - `resize`：调整分区的大小。
  - `rm`：删除分区。

### 挂载相关
- 概念：将硬件设备的文件系统和Linux系统中的文件系统，通过指定目录进行关联。
- 挂载命令`mount`：
  - `-l`：显示系统已挂载的设备信息。
  - `-a`：自动检查未挂载设备文件。
  - `-t`：指定欲挂载的文件类型。
- 自动挂载文件：`/etc/fstab`。
- 注：所有硬件设备必须挂载之后才能使用，有些硬件设备在每次系统启动时会自动挂载，有些则需要手动挂载。

### 存储相关命令
- `df`：查看Linux系统中各文件系统的硬盘使用情况；与整个文件系统有关的数据保存在超级块中。
- `du`：统计目录或者文件所占用磁盘空间的容量，`-a`显示所有子目录和文件的磁盘占用。
- `fsck`：用于检查文件系统并尝试修复出现的错误。

### df与du区别
`df`命令通过文件系统获取文件的磁盘占用量，`du`通过搜索文件计算。

### RAID相关
- RAID 0：由容量相同的两块及以上硬盘组成；将硬盘分成相同大小的块，数据输入时，将数据等分，分别写入到不同的硬盘中；缺点是没有数据冗余功能。
- RAID 1：由两块硬盘组成；数据写入时，把同一份数据写入到两份硬盘中。
- RAID 10/RAID 01：两者结合，先由两个硬盘组成第一个RAID 1，再由两个硬盘组成第二个RAID 1，最后将这两个组成RAID 0。
- RAID 5：最少由三块硬盘组成，且容量一致；写入数据时，循环写入，在其中一块硬盘中加入一个奇偶校验值；这个奇偶校验值的内容是这次循环写入时其他硬盘数据的备份。
- 建立RAID命令：`mdadm`。

## 设备管理
### 设备相关概念
- 设备运行：每一个设备都是在驱动程序控制下运行的，均在`/dev`目录下。
- 设备文件命名：如`/dev/sda5`，`sd`表示硬件设备，`a`为硬盘的编号，`5`为分区的编号。
- 设备分类：虚拟设备、物理设备；虚拟设备文件没有对应的物理设备。

### 常见虚拟设备文件
- `/dev/null`：空文件，是一个只写文件，所有写入的内容都会丢失。
- `/dev/zero`：伪文件，是一个输入设备，写入的东西会丢失不见；主要用处是创建一个指定长度的初始化空文件。
- `/dev/full`：特殊的设备文件，常被用于测试程序在遇到无空间时的行为。
- `/dev/random`：随机发生器。

### 设备信息查看命令
- `lscpu`：查看CPU和处理单元的信息。
- `/proc`目录：存储内核检查到的各项硬件设备信息。
- `free`：查看内存信息。
- `vmstat`（virtual memory Statistics）：查看虚拟内存。
- `dmesg`：查看系统的硬件信息、启动信息。
- `lsblk`：列出系统所有可用的块设备信息。

### 虚拟内存相关概念
- Page-out：页面写入磁盘的过程。
- Page-In：页面从磁盘重新回到内存的过程。
- Trashing（颠簸）：当Page-out页面频繁发生，内核管理分页的时间超过运行程序的时间。

### 磁盘配额
- 分类：软限制（警告限制）和硬限制。
- 相关命令：
  - `quota`：查询磁盘空间的限制。
  - `quotacheck`：建立磁盘配额的记录文件。
  - `quotaon`：启动磁盘配额服务。
  - `quotaoff`：关闭磁盘配额服务。
  - `edquota`：编辑磁盘配额参数。
  - `setquota`：批量化进行磁盘配额参数设定。

### 设备文件名组成
设备文件名一般由主设备号和次设备号构成。

## 网络管理
### 网络接口相关
- 网络接口卡（NIC）：常见的有Eth0（以太网）、lo（回环设备）。
- `ifconfig`命令：
  - `ifconfig -a`：检测目前已识别的网络接口信息。
  - `ifconfig 接口名 up/down`：激活和禁用接口。
- 多宿主主机：一台正在侦听多个IP地址的机器。

### IP地址相关
- 组成：包括网络部分和主机部分。
- 子网掩码：用来区分IP地址的网络部分和主机部分；定义的三类网络：
  - A类：255.0.0.0
  - B类：255.255.0.0
  - C类：255.255.255.0

### 以太网相关
- 概念：链接层技术，每个以太网接口的地址有两个，IP地址和MAC地址。
- IP地址与MAC地址区别：IP地址用于不同主机间的通讯，MAC地址用于同一IP网络中不同主机间的通讯。

### 相关协议与服务
- ARP协议（地址解析协议）：用来确定目的机器的硬件地址；`arp -a`：检测机器的ARP缓存。
- 默认网关：可以理解为路由器。
- 路由表：`route`命令检测路由表。
- DNS（域名系统）：作用是将复杂难记的IP地址转化为简单易记的域名；域名和IP地址的转化工作称为“域名解析”；相关文件：
  - `/etc/hosts`：静态查询，静态分配IP。
  - `/etc/resolv.conf`：动态查询，通过访问这个文件列出的域名服务器进行动态查询。
- DHCP（动态主机配置协议）：使得计算机能够自动从IPS（Internet服务提供商）请求IP地址和网络参数。
- Telnet：常用的远程控制Web服务器的方法。
- Redis：默认端口号是6379。

### 主机名相关
- `hostname`：查看或设置机器的主机名。
- `/etc/sysconfig/network`：存储通用联网配置信息。

### 网络服务控制
- `service network start/restart/stop`：启动/重启/停止网络服务。

### 网络诊断命令
1. `ping`：检测两台机器间底层IP的连接性。
2. `host`：用来执行DNS查询。
3. `traceroute`：用来列出数据包穿行路由器的详细路径。
4. `tcpdump`：检测网络活动。

### 网络配置问题诊断步骤
1. `ifconfig`查看接口是否激活，IP地址和子网掩码是否正确。
2. `ping`本地IP地址，看是否有回应。
3. `ping`默认网关地址，看是否能与路由器通信。
4. `ping`不在本地IP网络的机器。
5. `host`查看是否能够解析主机名。

### 其他网络相关
- 回环接口配置：IP为127.0.0.1，子网掩码为255.255.0.0。
- 网关功能：跨区域通信。
- HTTP（超文本传输协议）：用于客户端和服务器之间的通信。
- `ifconfig`特点：暂时改变网络参数，不写入配置文件，重启后，从配置文件中设置网络参数。

## 系统服务与日志
### 守护进程分类
- 可独立启动的服务。
- 通过一个总管程序来统一管理的服务。

### 服务控制方法
1. `/etc/init.d/服务名 start/stop/status/restart`
2. `service 服务名 start/stop/status/restart`

### 日志相关
- 日志管理服务：系统中的绝大多数日志文件是由`rsyslogd`服务来统一管理的。
- 日志文件存储目录：`/var/log/`（`/var/`是用来保存系统动态数据的目录）。
- `rsyslogd`服务配置文件：`/etc/rsyslog.conf`，用来确定各个服务不同等级的日志信息被记录的位置。
- 日志服务和日志等级连接符号：
  - `cron.info`：表示日志等级大于`info`级别就记录。
  - `cron.=emerg`：表示日志等级是`emerg`等级就记录。
  - `.！`：代表不等于，除了该等级的日志外，其他等级日志都记录。
- 日志接受对象`~`：代表这个日志不会被记录。
- 日志轮替：`logrotate`进行日志轮替依靠`/etc/logrotate.conf`。
- 日志分析工具：`logwatch`。

### 系统服务概念
Linux系统服务有时也成为守护程序，是在Linux系统启动时自动加载。

# Linux系统的常用软件应用技术
## 编辑器
### 编辑器分类
- 行编辑器
- 全屏编辑器

### VI编辑器
- 性质：全屏文本编辑器，分为两个版本，view编辑器和vedit编辑器。
- 三种模式：
  1. 命令模式：按下ESC键进入。
  2. 文本编辑模式：按`i`（当前位置插入）、`a`（后一位插入）、`o`（下一行插入）进入。
  3. 末行模式：按下`：`键进入。

#### VI编辑器保存与退出命令（末行模式）
- `w`：保存当前文件，不退出VI。
- `w 文件名`：将当前内容保存到指定文件中。
- `w！文件名`：强行保存，文件已存在就覆盖。
- `q`：退出VI。
- `q！`：强行退出VI。
- `wq`：保存并退出VI。
- 退出只读文件：使用`q`或`q！`。

#### VI编辑器光标移动命令（命令模式）
- `nG`：光标移动到文件第n行的行首；`G`移动到末行行首；`1G`移动到首行行首。
- `nw`：光标向右移动n个字；`w`向右移动1个字。
- `nb`：光标向左移动n个字；`b`向左移动1个字。
- `$`：光标移动到当前行的行尾。

#### VI编辑器删除命令（命令模式）
| 命令 | 功能 |
| ---- | ---- |
| `x` | 删除光标所在位置的一个字符 |
| `nx` | 删除从光标开始的n个字符 |
| `db` | 删除光标左边的一个字符 |
| `ndb` | 删除向左的n个字符 |
| `d$` | 删除光标到行末的所有字符 |
| `ndd` | 删除当前行开始的n行 |

#### VI编辑器文本查找（命令模式）
- `？字符串`：查找开头为字符串的字符，区分大小写。

#### VI编辑器文本替换（末行模式）
- 格式：`（1，$）s/查找的字符串/新字符串/（g）`，`g`表示所有，`1，$`表示从第一行到最后一行；`1，m`表示从第一行到m行。

#### VI编辑器复制粘贴（命令模式）
- 复制命令：
  - `yw`：光标所在位置到字尾的字复制。
  - `yb`：向左复制一个字符。
  - `y0`：从光标到行首复制。
  - `y$`：复制从光标到行末的所有字符。
  - `yy`：复制当前行。
  - `nyy`：复制从当前行开始的n行。
- 粘贴命令：
  - `p`：当前位置后面插入复制的文本。
  - `P`：当前位置前面插入复制的文本。

#### VI编辑器存储缓冲区
- 分类：数字编号缓冲区和命名缓冲区。
- 数字编号缓冲区：`np`即可找回数字编号为n的内容。
- 命名缓冲区：使用小写字母a到z命名；缓冲区名+命令即可将内容保存到缓冲区。

#### VI编辑器其他命令
- `n`命令：启动下一个编辑文件。
- `set`命令：
  - `set autoindent`：首行对齐。
  - `set ignorecase`：忽略大小写。
  - `set number`：显示行号。
  - `set +autoindent`：取消首行对齐（`+`取消属性）。
- `2p`：将缓冲区2的内容复制到光标所在位置。
- `set`命令选项分类：布尔触发性、数字型、串。

### Emacs编辑器
#### Emacs界面组成
- 标题栏
- 菜单栏
- 窗口区域
- 模式行：冒号`：`后面两个字符表示缓冲区中文本的状态，`--`表示缓冲区未被编辑，`**`表示已被修改；`%%`表示只读缓冲区文本未被修改；`%*`表示只读缓冲区的文本已经被修改。
- 回显行：屏幕的最后一行，提示符出现在这个区域；命令输入过程中，`Ctrl+G`退出。

#### Emacs退出命令
| 命令 | 功能 |
| ---- | ---- |
| `Ctrl+x Ctrl+S` | 保存文件并退出 |
| `Ctrl+x Ctrl+c` | 不保存文件退出 |
| `Ctrl+x Ctrl+w` | 另存为文件 |

#### Emacs文件和缓冲区命令
| 命令 | 功能 |
| ---- | ---- |
| `Ctrl+x Ctrl+F` | 搜索并打开文件 |
| `Ctrl+x Ctrl+V` | 打开另一个文件替换当前打开的文件 |
| `Ctrl+x Ctrl+I` | 在光标处插入文件 |
| `Ctrl+G` | 撤销命令 |

#### Emacs光标移动命令
| 命令 | 功能 |
| ---- | ---- |
| `Ctrl+F` | 光标前移一个字符 |
| `Ctrl+B` | 光标后移一个字符 |
| `Ctrl+P` | 光标移动到上一行 |
| `Ctrl+N` | 光标移动到下一行 |
| `Ctrl+A` | 光标移动到当前行行首 |
| `Ctrl+E` | 光标移动到当前行行尾 |
| `Ctrl+V` | 光标向前移动一屏 |
| `Alt+V` | 光标向后移动一屏 |
| `Alt+F` | 向前移动一个单词 |
| `Alt+B` | 向后移动一个单词 |
| `Alt+<` | 光标移动到文本开头 |
| `Alt+>` | 光标移动到文本末尾 |

#### Emacs删除命令
| 命令 | 功能 |
| ---- | ---- |
| `Backspace` | 删除光标前的一个字符 |
| `Ctrl+D` | 删除光标处的字符 |
| `Ctrl+x U` | 撤销上次修改 |
| `Alt+D` | 删除光标后的一个单词 |
| `Ctrl+x Backspace` | 删除前一句 |
| `Ctrl+K` | 删除光标到行尾的所有字符 |

#### Emacs搜索与替换
- 搜索命令：
  - `Ctrl+S`：向前递增搜索。
  - `Ctrl+R`：向后递增搜索。
- 替换命令（`Alt+Shift+5`进入替换命令）：
  - 空格键或Y键：替换当前匹配进入下一匹配。
  - Delete或N键：忽略当前匹配进入下一匹配。
  - Enter或Q：直接退出。
  - 句号`.`：替换当前匹配并退出。
  - `！`：直接替换剩下的所有匹配。
  - `^`：回到前一匹配处。

#### Emacs大小写字母转换命令
| 命令 | 功能 |
| ---- | ---- |
| `Alt+U` | 整个单词转为大写 |
| `Alt+L` | 整个单词转为小写 |
| `Alt+C` | 首字母改为大写 |
| `Ctrl+x Ctrl+U` | 指定区域改为大写 |
| `Ctrl+x Ctrl+L` | 指定区域改为小写 |

#### Emacs其他命令
- 窗口分割：
  - `Ctrl+x 2`：水平分割2个窗口。
  - `Ctrl+x 3`：垂直分割2个窗口。
- `Ctrl+H`：调用Emacs的帮助。
- `Enter`：查看文件列表。
- `Ctrl+W`：删除两个位置之间的所有文本。

#### Emacs相关概念
- 重排：对文本中的内容进行操作，选中的一段文字表示区域，区域的起点叫做标记，光标移动到的位置和标记之间就是区域，光标在文本中的位置叫做光标点。

## OpenSSH工具包
### 基础概念
- 加密技术：SSH采用非对称加密技术（RSA）加密所有传输数据。
- 协议：OpenSSH采用SSH协议。
- 端口号：OpenSSH端口号是22，开启端口`--add-port=22/tcp`。
- 主配置文件：`/etc/ssh/sshd_config`。
- 密钥生成：OpenSSH采用随机的方式生成公私密钥。

### 常用命令
- 登录：`ssh root@host`（`root`为用户名，`host`为主机地址）。
- 退出：`exit`或`logout`。
- 文件传输：
  - SFTP：安全文件传送协议。
  - `scp`：
    - 下载文件：`scp (-r) root@192.168.56.1:/opt/test1.txt /opt/`（`-r`用于下载目录）。
    - 上传文件：`scp (-r) /opt/text.txt root@192.168.56.1:/opt/`（`-r`用于上传目录）。
- 免密登陆：生成的密钥文件存储在`~/.ssh`子目录中，`id_rsa`和`id_rsa.pub`分别是私钥和公钥。

### 协议层级
SSH是建立在应用层基础上的网络安全协议。

# Linux系统的应用程序开发技术
## 开发环境与工具、调试与优化
### GCC编译命令
- `gcc test.c -o test`：将`test.c`文件编译为可执行文件`test`。
- C语言程序的编辑过程：预处理、编译、汇编、链接：
  1. `gcc -E test.c -o test.i`：预处理输出。
  2. `gcc -S test.i -o test.s`：编译生成汇编文件。
  3. `gcc -c test.s -o test.o`：汇编文件转为二进制机器代码。
- `gcc -g`：用于后续GDB调试。

### GDB调试命令
- 查看变量和设置变量：
  - `print 变量名或表达式`：查看变量值或表达式结果。
  - `whatis 变量名`：查看变量类型。
  - `set variable n=7`：变量赋值。
- 调试控制：
  - `kill`：结束当前调试。
  - `continue`：继续当前调试。
  - `next`或`step`：单步调试。
- 断点相关：`info breakpoints`：查看当前所有的断点。

### 库文件查找
编辑器`gcc`会在默认路径中寻找所需的库文件，使用`-L`选项后，会首先到指定的目录下去寻找相关库文件。

## 基于Linux的Web服务器的搭建、应用开发与部署
### Java环境配置
需要配置4个环境变量：`JAVA_HOME`、`JRE_HOME`、`PATH`、`CLASSPATH`。

### 域名解析
在Linux环境下，能实现域名解析的功能软件模块是BIND。

### DNS服务
DNS服务使用的端口是53。

### MVC架构
MVC分别是模型（Model）、视图（View）、控制器（Controller）。